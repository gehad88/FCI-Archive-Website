@{
    Layout = "_AdmainLayout";
}


<div class="container text-center mb-5 login-btn">
    <div>
        <h1 style="color:black"> All Removed Users </h1>
        <hr class=" w/75" />
    </div>
</div>

<style>
    .input-group {
        width: 50%;
        display: flex;
        justify-content: center; /* Added to center search button */
        margin: 0 auto; /* Added to center input group */
    }

    select {
        width: 150px;
    }

        select:focus {
            min-width: 150px;
            width: auto;
        }
</style>

<style>
    body {
        background-image: url('../login/img/bench-accounting-nvzvopqw0gc-unsplash.jpg');
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: 100% 100%;
    }
</style>

<div>
    <div class="input-group">
        <input placeholder="User Name/Email" id="searchInput" type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
        <button id="searchButton" type="button" style="color:white; background-color:#CD9775; border-color:#CD9775" class="btn btn-outline-primary">Search</button>
    </div>
</div>

<script>
    const inputTypeSelect = document.getElementById('inputType');
    const searchInput = document.getElementById('searchInput');

    inputTypeSelect.addEventListener('change', function () {
        const selectedType = this.value;
        searchInput.type = selectedType;
    });
</script>

<div class="container rounded mt-5 mb-5">
    <div id="datatable"></div>
    <div dir="ltr">
        <table class="table table-striped table-hover">
            <thead class="table-light">
                <tr>
                    <th scope="col">User Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Job Title</th>
                    <th scope="col">Department</th>
                    <th scope="col">Action</th>

                </tr>
            </thead>
            <tbody>

                @foreach (var user in ViewBag.RemoveUsers)
                {
                    <tr>
                        <td>@user.UserName</td>
                        <td>@user.AcadMail</td>
                        <td>@user.JobTitle</td>
                        <td>@user.Department</td>

                        <td>
                            <a href="/User/MesgDelUser?email=@user.AcadMail" class="btn btn-outline-primary btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" style="color:white;background-color:#854442; border-color:#854442" title="Edit">Show Messages</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    document.getElementById('searchButton').addEventListener('click', function () {
        // Get the search query from the input
        var searchQuery = document.getElementById('searchInput').value;

        // Reload the page with the search query as a query parameter
        window.location.href = '/User/ShowAllRemoveUsers?query=' + encodeURIComponent(searchQuery);
    });
</script>
